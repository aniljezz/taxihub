export const fetchEnquiries = async (token: string): Promise<any[]> => {
  try {
    console.log("ğŸ” Fetching enquiries with token:", token.substring(0, 10) + "...");
    const res = await fetch(`https://jaishriramtourntravels.com/api/enquiries.php?token=${token}`, {
      cache: "no-store",
    });

    console.log("ğŸ“Š Enquiries response status:", res.status);

    if (res.ok) {
      const data = await res.json();
      console.log("ğŸ“‹ Raw API response:", data); // Debug - structure à¤¦à¥‡à¤–à¥‹

      // Multiple possible structures handle à¤•à¤°à¥‹
      if (Array.isArray(data)) return data;
      if (data.data && Array.isArray(data.data)) return data.data;
      if (data.enquiries && Array.isArray(data.enquiries)) return data.enquiries;
      if (data.results && Array.isArray(data.results)) return data.results;
      if (data.items && Array.isArray(data.items)) return data.items;

      console.log("âš ï¸ No array found, returning empty");
      return [];
    }
    return [];
  } catch (error) {
    console.error("âŒ Enquiries API error:", error);
    return [];
  }
};
